<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Test</title>
</head>
<body>
    <h1>Direct API Test</h1>
    <button onclick="testAPI()">Test API Paths</button>
    <pre id="output"></pre>

    <script>
        async function testAPI() {
            const output = document.getElementById('output');
            output.textContent = 'Testing...\n';
            
            const variants = ['variant:bipc', 'variant:mpc', 'variant:creative_service_skills'];
            
            for (const v of variants) {
                try {
                    const url = `http://127.0.0.1:8000/paths?variant=${v}`;
                    output.textContent += `\nFetching: ${url}\n`;
                    
                    const response = await fetch(url);
                    output.textContent += `Status: ${response.status} ${response.ok ? 'OK' : 'FAILED'}\n`;
                    
                    if (response.ok) {
                        const data = await response.json();
                        output.textContent += `Paths found: ${data.paths?.length || 0}\n`;
                        if (data.paths?.length > 0) {
                            output.textContent += `Sample: ${data.paths[0].course.display_name}\n`;
                        }
                    } else {
                        const text = await response.text();
                        output.textContent += `Error: ${text}\n`;
                    }
                } catch (err) {
                    output.textContent += `Exception: ${err.message}\n`;
                }
            }
            
            output.textContent += '\n=== Test Complete ===';
        }
    </script>
</body>
</html>
